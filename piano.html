<!DOCTYPE html>
<html>
<head>
    <title>Piano Virtual</title>
    
    <script src="https://cdn.tailwindcss.com"></script>


</head>
<body>

    <h1 class="text-3xl font-bold">Music Generator</h1>
    
    <button onclick="start()"> Start</button>
    
    <div id="reloj"></div>



    

    

<script>

    // Función para manejar el evento de presionar una tecla
    function playSound(note) {

        const audio = new Audio(`sounds/${note}.mp3`); // Asegúrate de tener archivos de sonido en una carpeta llamada 'sounds'
        audio.muted = false;
        audio.play();

    }





    const notesC1 = [
        "C1-1", "C1-1-1", "C1-2", "C1-2-1", "C1-3", "C1-4", "C1-4-1", "C1-5", "C1-5-1", "C1-6", "C1-6-1", "C1-7"
    ];

    const notesC2 = [
        "C2-1", "C2-1-1", "C2-2", "C2-2-1", "C2-3", "C2-4", "C2-4-1", "C2-5", "C2-5-1", "C2-6", "C2-6-1", "C2-7"
    ];
    
    const notesC3 = [
        "C3-1", "C3-1-1", "C3-2", "C3-2-1", "C3-3", "C3-4", "C3-4-1", "C3-5", "C3-5-1", "C3-6", "C3-6-1", "C3-7"
    ];

    const notesC4 = [
        "C4-1", "C4-1-1", "C4-2", "C4-2-1", "C4-3", "C4-4", "C4-4-1", "C4-5", "C4-5-1", "C4-6", "C4-6-1", "C4-7"
    ];


    const notesC5 = [
        "C5-1", "C5-1-1", "C5-2", "C5-2-1", "C5-3", "C5-4", "C5-4-1", "C5-5", "C5-5-1", "C5-6", "C5-6-1", "C5-7"
    ];


    const notesC6 = [
        "C6-1", "C6-1-1", "C6-2", "C6-2-1", "C6-3", "C6-4", "C6-4-1", "C6-5", "C6-5-1", "C6-6", "C6-6-1", "C6-7"
    ];

    const notesC7 = [
        "C7-1", "C7-1-1", "C7-2", "C7-2-1", "C7-3", "C7-4", "C7-4-1", "C7-5", "C7-5-1", "C7-6", "C7-6-1", "C7-7"
    ];


    






    /**
     *
     * Inteval with music
     * 
     */
    
    const createIntervalC1 = (time = null) => {
        //return setInterval(() => {
            let maximo = notesC1.length - 1;
            let minimo = 0;
            let num = Math.floor(Math.random() * ((maximo+1) - minimo) + minimo);
            console.log(notesC1[num]);
            playSound('C1/' + notesC1[num]);
        //}, time);
    }

    const createIntervalC2 = (time = null) => {
        //return setInterval(() => {
            let maximo = notesC2.length - 1;
            let minimo = 0;
            let num = Math.floor(Math.random() * ((maximo+1) - minimo) + minimo);
            console.log(notesC2[num]);
            playSound('C2/' + notesC2[num]);
        //}, time);
    }

    const createIntervalC3 = (time = null) => {
        //return setInterval(() => {
            let maximo = notesC3.length - 1;
            let minimo = 0;
            let num = Math.floor(Math.random() * ((maximo+1) - minimo) + minimo);
            console.log(notesC3[num]);
            playSound('C3/' + notesC3[num]);
        //}, time);
    }

    const createIntervalC4 = (time = null) => {
        //return setInterval(() => {
            let maximo = notesC4.length - 1;
            let minimo = 0;
            let num = Math.floor(Math.random() * ((maximo+1) - minimo) + minimo);
            console.log(notesC4[num]);
            playSound('C4/' + notesC4[num]);
        //}, time);
    }

    const createIntervalC5 = (time = null) => {
        //return setInterval(() => {
            let maximo = notesC5.length - 1;
            let minimo = 0;
            let num = Math.floor(Math.random() * ((maximo+1) - minimo) + minimo);
            console.log(notesC5[num]);
            playSound('C5/' + notesC5[num]);
        //}, time);
    }

    const createIntervalC6 = (time = null) => {
        //return setInterval(() => {
            let maximo = notesC6.length - 1;
            let minimo = 0;
            let num = Math.floor(Math.random() * ((maximo+1) - minimo) + minimo);
            console.log(notesC6[num]);
            playSound('C6/' + notesC6[num]);
        //}, time);
    }


    const createIntervalC7 = (time = null) => {
        //return setInterval(() => {
            let maximo = notesC7.length - 1;
            let minimo = 0;
            let num = Math.floor(Math.random() * ((maximo+1) - minimo) + minimo);
            console.log(notesC7[num]);
            playSound('C7/' + notesC7[num]);
        //}, time);
    }






    let arrTempo = [
        { 
            time: 2,
            method: createIntervalC4,
        },
        { 
            time: 5,
            method: createIntervalC4,
        },
        { 
            time: 4,
            method: createIntervalC4,
        },
        { 
            time: 10,
            method: createIntervalC3,
        },
        
    ];




    const start = () => {
        console.log("Inicia la APP...");

        //No borrar: OK
        // const intervalC2 = createIntervalC2(6000);
        // const intervalC4_1 = createIntervalC4(1000);
        // const intervalC4_2 = createIntervalC4(500);
        // const intervalC5 = createIntervalC5(2000);



        // Mostrar la hora inicial
        mostrarHoraYMensaje();

        // Actualizar la hora y el mensaje cada segundo
        setInterval(mostrarHoraYMensaje, 1000);


    }




    
    





    // Función para obtener la hora actual en formato HH:MM:SS
    function obtenerHoraActual() {
        const ahora = new Date();
        const horas = String(ahora.getHours()).padStart(2, '0');
        const minutos = String(ahora.getMinutes()).padStart(2, '0');
        const segundos = String(ahora.getSeconds()).padStart(2, '0');
        return `${horas}:${minutos}:${segundos}`;
    }



    // Función para mostrar la hora actual y lanzar un mensaje
    function mostrarHoraYMensaje() {

        const reloj = document.getElementById("reloj");
        const horaActual = obtenerHoraActual();
        reloj.textContent = `Hora actual: ${horaActual}`;



        // Cambia el mensaje cada 5 segundos
        // const mensaje = (new Date().getSeconds() % 5 === 0) ? true : false;
        // if (mensaje) {
        //     createIntervalC5();
        // }

        arrTempo.forEach((e) => {
            const mensaje = (new Date().getSeconds() % e.time === 0) ? true : false;
            if (mensaje) {
                console.log("time: " , e.time);
                e.method();
            }
        });


    }




    



    // const find = () => {
    //     console.log("pasaaa");
    // } 
    // document.addEventListener('DOMContentLoaded', find);







</script>

</body>
</html>
